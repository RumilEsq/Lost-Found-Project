<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Report an Item</title>
    <link rel="stylesheet" href="../CSS-JS/style.css">
</head>
<body class="report-page" style="background: #0d1b2a; padding: 30px;">
<button class="back-btn" onclick="location.href='Dashboard.html'">&larr; Back to Home</button>
    <div class="container report-animate" style="max-width: 900px; margin: auto; border-radius: 6px; overflow: hidden;">
        <div class="header">
            <h2>Report an Item</h2>
            <p>Lost something or found something? Let us know</p>
        </div>

        <div class="toggle">
            <button class="active" id="lostBtn">I Lost Something</button>
            <button id="foundBtn">I Found Something</button>
        </div>

        <div id="reportTypeNote" style="padding: 10px 20px; background: #fff3cd; color: #856404; font-size: 13px; border-left: 4px solid #ffc107; margin: 0 20px;">
            You are reporting a <strong id="reportTypeLabel">LOST</strong> item. When someone finds it, they will click "I Found This!" on your report.
        </div>

        <form class="form" id="reportForm">
            <h3>Item Details</h3>

            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Item Name *</label>
                    <input type="text" id="itemName" placeholder="e.g. Black iPhone 13, Blue Backpack" required>
                </div>

                <div class="form-group" style="flex: 1;">
                    <label>Category *</label>
                    <select id="category" required>
                        <option value="">Select category</option>
                        <option>Electronics</option>
                        <option>Clothing</option>
                        <option>Documents</option>
                        <option>Accessories</option>
                        <option>Wallets/Purse</option>
                        <option>ID/Documents</option>
                        <option>Gadgets</option>
                        <option>Bottles/Tumblers</option>
                        <option>Others</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>Description *</label>
                <textarea id="description" placeholder="Describe the item in detail (brand, color, distinctive features, etc.)"></textarea>
            </div>

            <h3>When and Where?</h3>

            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Location *</label>
                    <input type="text" id="location" placeholder="location">
                </div>

                <div class="form-group" style="flex: 1;">
                    <label>Date *</label>
                    <input type="date" id="date">
                </div>
            </div>

            <div class="form-group">
                <label>Additional Location Details</label>
                <input type="text" id="locationDetails" placeholder="e.g. Near Second Floor Building 2">
            </div>

            <h3>Add a Photo (Optional)</h3>

            <div class="upload">
                <input type="file" id="photo" accept="image/png, image/jpeg"><br>
                <small>PNG, JPG, JPEG up to 5MB</small>
            </div>

            <h3>Your Contact Information</h3>

            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Your Name *</label>
                    <input type="text" id="reporterName" placeholder="Your Name">
                </div>

                <div class="form-group" style="flex: 1;">
                    <label>Email Address *</label>
                    <input type="email" id="reporterEmail" placeholder="you@school.edu">
                </div>

                <div class="form-group" style="flex: 1;">
                    <label>Facebook Profile Link (Optional)</label>
                    <input type="text" id="reporterFacebook" placeholder="https://facebook.com/yourprofile">
                </div>
            </div>

            <div class="note">
                Your contact information will only be visible to verified users who interact with this report.
            </div>
        </form>

        <div class="actions">
            <button class="cancel" type="reset" onclick="location.href='Dashboard.html'">Cancel</button>
            <button class="submit" type="button" id="submitReport">Submit Report</button>
        </div>
    </div>

    <div id="successModal" class="success-modal">
      <div class="success-box">
        <div class="success-icon">+</div>
        <h2>Report Submitted Successfully!</h2>
        <p>Your report has been recorded and is now <strong>pending admin review</strong>. It will be visible to other users once an admin approves it.</p>
        <button id="successOkBtn">Continue</button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../CSS-JS/config.js"></script>
    <script src="../CSS-JS/auth.js"></script>
    <script src="../CSS-JS/report.js"></script>
    <script>
      const lostBtn = document.getElementById("lostBtn");
      const foundBtn = document.getElementById("foundBtn");
      const reportTypeLabel = document.getElementById("reportTypeLabel");
      const reportTypeNote = document.getElementById("reportTypeNote");

      lostBtn.addEventListener("click", () => {
        reportTypeLabel.textContent = "LOST";
        reportTypeNote.style.background = "#fff3cd";
        reportTypeNote.style.color = "#856404";
        reportTypeNote.style.borderColor = "#ffc107";
        reportTypeNote.innerHTML = 'You are reporting a <strong>LOST</strong> item. When someone finds it, they will click "I Found This!" on your report.';
      });

      foundBtn.addEventListener("click", () => {
        reportTypeLabel.textContent = "FOUND";
        reportTypeNote.style.background = "#d1fae5";
        reportTypeNote.style.color = "#065f46";
        reportTypeNote.style.borderColor = "#22c55e";
        reportTypeNote.innerHTML = 'You are reporting a <strong>FOUND</strong> item. The owner can click "Claim This Item" on your report to claim it.';
      });
    </script>
</body>
</html>